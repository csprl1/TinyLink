"use strict";(()=>{var e={};e.id=711,e.ids=[711],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1528:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var n={};t.r(n),t.d(n,{GET:()=>d});var o=t(9303),s=t(8716),a=t(670),i=t(7070),u=t(3493);async function d(e,{params:r}){try{let e=r?.code;if(!e)return i.NextResponse.json({error:"Missing code param"},{status:400});if(["api","healthz","code","_next","favicon.ico"].includes(e))return i.NextResponse.next();let t=await u.Z.link.findUnique({where:{code:e}});if(!t)return i.NextResponse.json({error:"Not found"},{status:404});return await u.Z.link.update({where:{code:e},data:{clicks:{increment:1},lastClicked:new Date}}),i.NextResponse.redirect(t.url,302)}catch(e){return console.error("Redirect handler error:",e),i.NextResponse.json({error:"internal_server_error",message:e?.message??String(e)},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/[code]/route",pathname:"/[code]",filename:"route",bundlePath:"app/[code]/route"},resolvedPagePath:"/Users/prathameshugale/Desktop/TinyLink/app/[code]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=p,h="/[code]/route";function x(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},3493:(e,r,t)=>{t.d(r,{Z:()=>o});let n=require("@prisma/client"),o=global.prisma??new n.PrismaClient({log:["error","warn"]})}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[948,972],()=>t(1528));module.exports=n})();